# ç™¾æžœå›­èˆ†æƒ…ç³»ç»Ÿ - å®Œæ•´éƒ¨ç½²æ“ä½œæ‰‹å†Œ

> æœ¬æ‰‹å†Œæä¾›ä»Žé›¶åˆ°ä¸€çš„è¯¦ç»†éƒ¨ç½²æ­¥éª¤,ç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œ

---

## ðŸ“‹ ç³»ç»ŸåŠŸèƒ½ç¡®è®¤

æ ¹æ®ä½ çš„éœ€æ±‚,ç³»ç»ŸçŽ°åœ¨å…·å¤‡ä»¥ä¸‹åŠŸèƒ½:

| éœ€æ±‚ | çŠ¶æ€ | è¯´æ˜Ž |
|------|------|------|
| âœ… æ¯å¤©3æ¬¡è‡ªåŠ¨çˆ¬å– | å·²å®žçŽ° | æ—©8ç‚¹ã€ä¸­åˆ1ç‚¹ã€æ™š8ç‚¹ |
| âœ… æ•°æ®ä¿ç•™14å¤© | å·²å®žçŽ° | æ¯å¤©å‡Œæ™¨2ç‚¹è‡ªåŠ¨æ¸…ç† |
| âœ… å¤šäººåä½œæŸ¥çœ‹ | å·²å®žçŽ° | æ”¯æŒ2-5äººåŒæ—¶ä½¿ç”¨ |
| âœ… äº‘ç«¯è®¿é—® | å·²å‡†å¤‡ | é€šè¿‡æµè§ˆå™¨è®¿é—® |

---

## ðŸš€ å¿«é€Ÿéƒ¨ç½²(3æ­¥æžå®š)

### å‰ææ¡ä»¶

- âœ… å·²å®‰è£…sshpass: `brew install hudochenkov/sshpass/sshpass`
- âœ… é˜¿é‡Œäº‘å®‰å…¨ç»„å·²å¼€æ”¾5000ç«¯å£

### ç¬¬1æ­¥: æœ¬åœ°å‡†å¤‡

```bash
cd /Users/xiaoyan/Desktop/èˆ†æƒ…/BettaFish-test

# ç¡®ä¿æœ‰æ‰§è¡Œæƒé™
chmod +x ä¸€é”®éƒ¨ç½²ç™¾æžœå›­ç³»ç»Ÿ.sh

# æ‰§è¡Œä¸€é”®éƒ¨ç½²
./ä¸€é”®éƒ¨ç½²ç™¾æžœå›­ç³»ç»Ÿ.sh
```

ç­‰å¾…è„šæœ¬æ‰§è¡Œå®Œæˆ(çº¦3-5åˆ†é’Ÿ)

### ç¬¬2æ­¥: å¯åŠ¨å®šæ—¶çˆ¬è™«

ç™»å½•æœåŠ¡å™¨:
```bash
ssh root@101.201.214.42
# å¯†ç : qwer.123
```

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ:
```bash
cd /root/BettaFish-test
source venv/bin/activate

# åŽå°å¯åŠ¨å®šæ—¶çˆ¬è™«
nohup python scheduler_daemon.py > scheduler.log 2>&1 &
echo $! > scheduler.pid

# æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ
ps aux | grep scheduler_daemon.py
tail -20 scheduler.log
```

é¢„æœŸçœ‹åˆ°ç±»ä¼¼è¾“å‡º:
```
ðŸš€ ç™¾æžœå›­èˆ†æƒ…ç›‘æµ‹å®šæ—¶ä»»åŠ¡å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨
å½“å‰æ—¶é—´: 2025-11-08 10:30:00
å®šæ—¶ä»»åŠ¡é…ç½®:
  - å‡Œæ™¨: 02:00 (æ•°æ®æ¸…ç†)
  - æ—©ä¸Š: 08:00 (çˆ¬å–èˆ†æƒ…)
  - ä¸­åˆ: 13:00 (çˆ¬å–èˆ†æƒ…)
  - æ™šä¸Š: 20:00 (çˆ¬å–èˆ†æƒ…)
â° å®šæ—¶ä»»åŠ¡å·²è®¾ç½®,ç­‰å¾…æ‰§è¡Œ...
```

### ç¬¬3æ­¥: è®¿é—®ç³»ç»Ÿ

åœ¨æµè§ˆå™¨æ‰“å¼€: **http://101.201.214.42:5000**

åº”è¯¥çœ‹åˆ°ç™¾æžœå›­èˆ†æƒ…å®¡æ ¸ç³»ç»Ÿç•Œé¢!

---

## ðŸ“Š éªŒè¯ç³»ç»ŸåŠŸèƒ½

### éªŒè¯1: Webç•Œé¢å¯è®¿é—®

æµè§ˆå™¨è®¿é—® http://101.201.214.42:5000

âœ… æ­£å¸¸: çœ‹åˆ°"ðŸŽ ç™¾æžœå›­èˆ†æƒ…ç›‘æµ‹ç³»ç»Ÿ"æ ‡é¢˜
âŒ å¼‚å¸¸: æ— æ³•è¿žæŽ¥æˆ–æ˜¾ç¤ºé”™è¯¯ â†’ æŸ¥çœ‹[æ•…éšœæŽ’æŸ¥](#æ•…éšœæŽ’æŸ¥)

### éªŒè¯2: å®šæ—¶çˆ¬è™«è¿è¡Œä¸­

åœ¨æœåŠ¡å™¨ä¸Š:
```bash
ps aux | grep scheduler_daemon.py
```

âœ… æ­£å¸¸: çœ‹åˆ°pythonè¿›ç¨‹åœ¨è¿è¡Œ
âŒ å¼‚å¸¸: æ²¡æœ‰è¿›ç¨‹ â†’ é‡æ–°å¯åŠ¨å®šæ—¶çˆ¬è™«

### éªŒè¯3: æ•°æ®åº“æ­£å¸¸

åœ¨æœåŠ¡å™¨ä¸Š:
```bash
cd /root/BettaFish-test
ls -lh baiguoyuan_sentiment.db
```

âœ… æ­£å¸¸: çœ‹åˆ°æ•°æ®åº“æ–‡ä»¶
âŒ å¼‚å¸¸: æ–‡ä»¶ä¸å­˜åœ¨ â†’ ä»Žæœ¬åœ°ä¸Šä¼ æ•°æ®åº“æ–‡ä»¶

### éªŒè¯4: æ‰‹åŠ¨è§¦å‘çˆ¬å–æµ‹è¯•(å¯é€‰)

åœ¨Webç•Œé¢ç‚¹å‡» "ðŸ”„ æ‰‹åŠ¨åˆ·æ–°å…¨ç½‘æ•°æ®" æŒ‰é’®

ç­‰å¾…2-3åˆ†é’ŸåŽåˆ·æ–°é¡µé¢,åº”è¯¥çœ‹åˆ°æ–°æ•°æ®

---

## âš™ï¸ å®šæ—¶ä»»åŠ¡è¯´æ˜Ž

ç³»ç»Ÿæ¯å¤©è‡ªåŠ¨æ‰§è¡Œ4ä¸ªä»»åŠ¡:

| æ—¶é—´ | ä»»åŠ¡ | è¯´æ˜Ž |
|------|------|------|
| 02:00 | æ•°æ®æ¸…ç† | åˆ é™¤14å¤©å‰çš„æ•°æ®,é‡Šæ”¾ç©ºé—´ |
| 08:00 | æ—©ä¸Šçˆ¬å– | çˆ¬å–å°çº¢ä¹¦ã€æŠ–éŸ³ã€å¾®åšã€Bç«™ |
| 13:00 | ä¸­åˆçˆ¬å– | çˆ¬å–å°çº¢ä¹¦ã€æŠ–éŸ³ã€å¾®åšã€Bç«™ |
| 20:00 | æ™šä¸Šçˆ¬å– | çˆ¬å–å°çº¢ä¹¦ã€æŠ–éŸ³ã€å¾®åšã€Bç«™ |

### æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ—¥å¿—

```bash
# å®žæ—¶æŸ¥çœ‹æ—¥å¿—
tail -f /root/BettaFish-test/scheduler.log

# æŸ¥çœ‹æœ€è¿‘100è¡Œ
tail -100 /root/BettaFish-test/scheduler.log

# æŸ¥çœ‹çˆ¬å–æˆåŠŸè®°å½•
grep "âœ…" /root/BettaFish-test/scheduler.log

# æŸ¥çœ‹é”™è¯¯è®°å½•
grep "âŒ" /root/BettaFish-test/scheduler.log
```

### ä¿®æ”¹å®šæ—¶ä»»åŠ¡æ—¶é—´

ç¼–è¾‘ `/root/BettaFish-test/scheduler_daemon.py`:

```python
# ç¬¬175-178è¡Œ
schedule.every().day.at("02:00").do(cleanup_data_task)  # æ”¹ä¸ºå…¶ä»–æ—¶é—´
schedule.every().day.at("08:00").do(morning_task)       # æ”¹ä¸º "09:00"
schedule.every().day.at("13:00").do(noon_task)          # æ”¹ä¸º "14:00"
schedule.every().day.at("20:00").do(evening_task)       # æ”¹ä¸º "21:00"
```

ä¿®æ”¹åŽé‡å¯:
```bash
kill $(cat /root/BettaFish-test/scheduler.pid)
cd /root/BettaFish-test
source venv/bin/activate
nohup python scheduler_daemon.py > scheduler.log 2>&1 &
echo $! > scheduler.pid
```

---

## ðŸ”§ æœåŠ¡ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹Streamlitç•Œé¢
ps aux | grep "streamlit run baiguoyuan_review_app.py"

# æŸ¥çœ‹å®šæ—¶çˆ¬è™«
ps aux | grep scheduler_daemon.py
```

### å¯åŠ¨æœåŠ¡

```bash
cd /root/BettaFish-test
source venv/bin/activate

# å¯åŠ¨Streamlitç•Œé¢
nohup streamlit run baiguoyuan_review_app.py \
    --server.port 5000 \
    --server.address 0.0.0.0 \
    --server.headless true \
    > streamlit.log 2>&1 &
echo $! > streamlit.pid

# å¯åŠ¨å®šæ—¶çˆ¬è™«
nohup python scheduler_daemon.py > scheduler.log 2>&1 &
echo $! > scheduler.pid
```

### åœæ­¢æœåŠ¡

```bash
# åœæ­¢Streamlitç•Œé¢
kill $(cat /root/BettaFish-test/streamlit.pid)

# åœæ­¢å®šæ—¶çˆ¬è™«
kill $(cat /root/BettaFish-test/scheduler.pid)
```

### é‡å¯æœåŠ¡

```bash
cd /root/BettaFish-test

# åœæ­¢æ‰€æœ‰
pkill -f "streamlit run baiguoyuan_review_app.py"
pkill -f "scheduler_daemon.py"

# é‡æ–°å¯åŠ¨
source venv/bin/activate
nohup streamlit run baiguoyuan_review_app.py \
    --server.port 5000 --server.address 0.0.0.0 --server.headless true \
    > streamlit.log 2>&1 &
echo $! > streamlit.pid

nohup python scheduler_daemon.py > scheduler.log 2>&1 &
echo $! > scheduler.pid
```

---

## ðŸ“‚ æ•°æ®ç®¡ç†

### å¤‡ä»½æ•°æ®åº“

```bash
# æ‰‹åŠ¨å¤‡ä»½
cd /root/BettaFish-test
cp baiguoyuan_sentiment.db backups/baiguoyuan_sentiment_backup_$(date +%Y%m%d).db

# ä¸‹è½½åˆ°æœ¬åœ°
scp root@101.201.214.42:/root/BettaFish-test/baiguoyuan_sentiment.db ./æœ¬åœ°å¤‡ä»½.db
```

### æ‰‹åŠ¨æ¸…ç†æ—§æ•°æ®

```bash
cd /root/BettaFish-test
source venv/bin/activate

# è¿è¡Œæ¸…ç†è„šæœ¬(ä¼šå…ˆè‡ªåŠ¨å¤‡ä»½)
python cleanup_old_data.py
```

### æŸ¥çœ‹æ•°æ®åº“ç»Ÿè®¡

```bash
cd /root/BettaFish-test
source venv/bin/activate

# æŸ¥çœ‹æ•°æ®é‡
python -c "
import sqlite3
conn = sqlite3.connect('baiguoyuan_sentiment.db')
cursor = conn.cursor()
cursor.execute('SELECT COUNT(*) FROM sentiment_data')
print(f'æ€»æ•°æ®é‡: {cursor.fetchone()[0]} æ¡')
cursor.execute('SELECT COUNT(DISTINCT platform) FROM sentiment_data')
print(f'å¹³å°æ•°: {cursor.fetchone()[0]} ä¸ª')
conn.close()
"
```

### æ¸…ç©ºæ‰€æœ‰æ•°æ®(æ…Žç”¨)

```bash
# å…ˆå¤‡ä»½
cp baiguoyuan_sentiment.db baiguoyuan_sentiment_backup_before_clear.db

# æ¸…ç©ºæ•°æ®
sqlite3 baiguoyuan_sentiment.db "DELETE FROM sentiment_data; VACUUM;"
```

---

## ðŸ‘¥ å¤šäººä½¿ç”¨è¯´æ˜Ž

### åˆ†äº«è®¿é—®é“¾æŽ¥

å‘é€ç»™å›¢é˜Ÿæˆå‘˜: **http://101.201.214.42:5000**

ä»»ä½•äººæ‰“å¼€æ­¤é“¾æŽ¥å³å¯:
- âœ… æŸ¥çœ‹æœ€æ–°èˆ†æƒ…æ•°æ®
- âœ… ç­›é€‰å’Œæœç´¢ä¿¡æ¯
- âœ… æ ‡è®°å·²å¤„ç†çŠ¶æ€
- âœ… å¤åˆ¶å†…å®¹æ–‡æœ¬
- âœ… æ‰‹åŠ¨è§¦å‘æ•°æ®åˆ·æ–°

### æƒé™è¯´æ˜Ž

**å½“å‰ç³»ç»Ÿ**: æ‰€æœ‰äººæƒé™ç›¸åŒ
- ä»»ä½•è®¿é—®è€…éƒ½å¯ä»¥æ ‡è®°/å–æ¶ˆæ ‡è®°
- æ²¡æœ‰ç”¨æˆ·ç™»å½•åŠŸèƒ½
- æ•°æ®å¯¹æ‰€æœ‰äººå¯è§

**å¦‚éœ€æƒé™ç®¡ç†**: éœ€è¦å‡çº§åˆ°æ–¹æ¡ˆB(äº‘æ•°æ®åº“+ç”¨æˆ·è®¤è¯)

### å¹¶å‘é™åˆ¶

**SQLiteæ¨¡å¼**(å½“å‰):
- 2-3äººåŒæ—¶ä½¿ç”¨: âœ… æµç•…
- 5-8äººåŒæ—¶ä½¿ç”¨: âš ï¸ å¯èƒ½å¶å°”å¡é¡¿
- 10+äººåŒæ—¶ä½¿ç”¨: âŒ å¯èƒ½å‡ºçŽ°æ•°æ®åº“é”å®šé”™è¯¯

**å¦‚è¶…è¿‡5äººä½¿ç”¨**: å»ºè®®å‡çº§åˆ°MySQL/PostgreSQLäº‘æ•°æ®åº“

---

## ðŸ” å®‰å…¨å»ºè®®

### 1. ä¿®æ”¹æœåŠ¡å™¨å¯†ç 

```bash
# SSHç™»å½•åŽ
passwd
# è¾“å…¥æ–°å¯†ç (å»ºè®®12ä½ä»¥ä¸Š,åŒ…å«å¤§å°å†™å­—æ¯+æ•°å­—+ç¬¦å·)
```

### 2. é…ç½®å®‰å…¨ç»„è§„åˆ™

åªå¼€æ”¾å¿…è¦ç«¯å£:
- 22 (SSH) - ä»…å…è®¸å…¬å¸IPè®¿é—®
- 5000 (Webç•Œé¢) - å…è®¸æŒ‡å®šIPæˆ–0.0.0.0/0

### 3. å®šæœŸå¤‡ä»½æ•°æ®

å»ºè®®æ¯å‘¨å¤‡ä»½ä¸€æ¬¡æ•°æ®åº“:
```bash
# åˆ›å»ºå®šæ—¶å¤‡ä»½ä»»åŠ¡
crontab -e

# æ·»åŠ :æ¯å‘¨æ—¥å‡Œæ™¨3ç‚¹å¤‡ä»½
0 3 * * 0 cp /root/BettaFish-test/baiguoyuan_sentiment.db /root/backups/weekly_backup_$(date +\%Y\%m\%d).db
```

### 4. ä¿æŠ¤APIå¯†é’¥

`.env` æ–‡ä»¶åŒ…å«DeepSeek APIå¯†é’¥,ç¡®ä¿:
- âŒ ä¸è¦ä¸Šä¼ åˆ°GitHub
- âŒ ä¸è¦åˆ†äº«ç»™å¤–éƒ¨äººå‘˜
- âœ… å®šæœŸæ›´æ¢å¯†é’¥

---

## â“ æ•…éšœæŽ’æŸ¥

### é—®é¢˜1: æ— æ³•è®¿é—®Webç•Œé¢

**çŽ°è±¡**: æµè§ˆå™¨æ˜¾ç¤º"æ— æ³•è¿žæŽ¥"

**æ£€æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
ps aux | grep streamlit

# 2. æ£€æŸ¥ç«¯å£æ˜¯å¦ç›‘å¬
netstat -tlnp | grep 5000
# æˆ–
ss -tlnp | grep 5000

# 3. æ£€æŸ¥æ—¥å¿—
tail -50 /root/BettaFish-test/streamlit.log
```

**è§£å†³æ–¹æ¡ˆ**:
- æœåŠ¡æœªè¿è¡Œ â†’ å¯åŠ¨æœåŠ¡
- ç«¯å£æœªç›‘å¬ â†’ æ£€æŸ¥é˜²ç«å¢™å’Œé˜¿é‡Œäº‘å®‰å…¨ç»„
- æ—¥å¿—æœ‰é”™è¯¯ â†’ æ ¹æ®é”™è¯¯ä¿¡æ¯ä¿®å¤

### é—®é¢˜2: å®šæ—¶çˆ¬è™«ä¸å·¥ä½œ

**çŽ°è±¡**: æ•°æ®æ²¡æœ‰è‡ªåŠ¨æ›´æ–°

**æ£€æŸ¥æ­¥éª¤**:
```bash
# 1. æ£€æŸ¥è¿›ç¨‹
ps aux | grep scheduler_daemon.py

# 2. æŸ¥çœ‹æ—¥å¿—
tail -50 /root/BettaFish-test/scheduler.log

# 3. æ£€æŸ¥å½“å‰æ—¶é—´
date
```

**è§£å†³æ–¹æ¡ˆ**:
- è¿›ç¨‹æœªè¿è¡Œ â†’ å¯åŠ¨å®šæ—¶çˆ¬è™«
- æ—¥å¿—æœ‰é”™è¯¯ â†’ æ£€æŸ¥MindSpideré…ç½®
- æ—¶é—´æœªåˆ° â†’ è€å¿ƒç­‰å¾…æˆ–ä¿®æ”¹æ—¶é—´ç«‹å³æ‰§è¡Œ

### é—®é¢˜3: å¤šäººæ“ä½œå‡ºçŽ°"æ•°æ®åº“é”å®š"

**çŽ°è±¡**: æ ‡è®°æ—¶æ˜¾ç¤º"database is locked"

**åŽŸå› **: SQLiteä¸æ”¯æŒé«˜å¹¶å‘å†™å…¥

**ä¸´æ—¶è§£å†³**:
- å‡å°‘åŒæ—¶æ“ä½œäººæ•°
- æ“ä½œå¤±è´¥æ—¶é‡è¯•

**é•¿æœŸè§£å†³**:
- å‡çº§åˆ°MySQL/PostgreSQLäº‘æ•°æ®åº“(æ–¹æ¡ˆB)

### é—®é¢˜4: æ•°æ®æ¸…ç†å¤±è´¥

**çŽ°è±¡**: scheduler.logæ˜¾ç¤ºæ¸…ç†é”™è¯¯

**æ£€æŸ¥æ­¥éª¤**:
```bash
# æ‰‹åŠ¨æ‰§è¡Œæ¸…ç†è„šæœ¬
cd /root/BettaFish-test
source venv/bin/activate
python cleanup_old_data.py
```

**å¸¸è§åŽŸå› **:
- æ•°æ®åº“æ–‡ä»¶æƒé™é—®é¢˜ â†’ `chmod 666 baiguoyuan_sentiment.db`
- ç£ç›˜ç©ºé—´ä¸è¶³ â†’ `df -h` æ£€æŸ¥ç©ºé—´
- è„šæœ¬è·¯å¾„é”™è¯¯ â†’ ç¡®ä¿åœ¨æ­£ç¡®ç›®å½•

### é—®é¢˜5: çˆ¬è™«å¹³å°ç™»å½•å¤±æ•ˆ

**çŽ°è±¡**: çˆ¬å–å¤±è´¥,æ—¥å¿—æ˜¾ç¤º"éœ€è¦ç™»å½•"

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd /root/BettaFish-test/MindSpider/DeepSentimentCrawling/MediaCrawler

# åˆ é™¤æ—§çš„ç™»å½•æ•°æ®
rm -rf browser_data/

# é‡æ–°æ‰§è¡Œç™»å½•(éœ€è¦æ‰«ç )
python main.py --deep-sentiment --platforms xhs --test
# ç”¨æ‰‹æœºå°çº¢ä¹¦Appæ‰«ç ç™»å½•

# å¯¹å…¶ä»–å¹³å°é‡å¤æ­¤æ“ä½œ
```

---

## ðŸ“Š æ€§èƒ½ç›‘æŽ§

### æœåŠ¡å™¨èµ„æºç›‘æŽ§

```bash
# å®žæ—¶ç›‘æŽ§
htop

# æˆ–
top

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h

# æŸ¥çœ‹ç½‘ç»œè¿žæŽ¥
netstat -an | grep 5000
```

### æ—¥å¿—æ–‡ä»¶å¤§å°ç®¡ç†

```bash
# æŸ¥çœ‹æ—¥å¿—å¤§å°
ls -lh /root/BettaFish-test/*.log

# æ¸…ç†å¤§æ—¥å¿—æ–‡ä»¶
truncate -s 0 /root/BettaFish-test/streamlit.log
truncate -s 0 /root/BettaFish-test/scheduler.log
```

### è®¾ç½®æ—¥å¿—è½®è½¬(æŽ¨è)

åˆ›å»º `/etc/logrotate.d/baiguoyuan`:

```
/root/BettaFish-test/*.log {
    daily
    rotate 7
    compress
    missingok
    notifempty
}
```

---

## ðŸŽ“ ä½¿ç”¨æŠ€å·§

### æŠ€å·§1: å¿«é€ŸæŸ¥çœ‹è´Ÿé¢èˆ†æƒ…

ä¾§è¾¹æ ç­›é€‰:
- æ—¥æœŸ: "ä»Šå¤©"
- çŠ¶æ€: "æœªå¤„ç†"
- ç„¶åŽæŒ‰æƒ…æ„Ÿåˆ†æ•°æŽ’åº(è´Ÿé¢åœ¨å‰)

### æŠ€å·§2: æ‰¹é‡å¤„ç†ä¿¡æ¯

1. ç­›é€‰å‡ºéœ€è¦å¤„ç†çš„ä¿¡æ¯
2. é€æ¡ç‚¹å‡»"âœ… æ ‡è®°å·²å¤„ç†"
3. ç‚¹å‡»ä¾§è¾¹æ "ðŸ”„ åˆ·æ–°æ•°æ®"æ›´æ–°åˆ—è¡¨

### æŠ€å·§3: å¯¼å‡ºæ•°æ®åˆ°Excel

ä½¿ç”¨SQLiteå·¥å…·(å¦‚DB Browser for SQLite):
1. ä¸‹è½½æ•°æ®åº“æ–‡ä»¶åˆ°æœ¬åœ°
2. æ‰“å¼€æ•°æ®åº“
3. å¯¼å‡ºä¸ºCSVæ ¼å¼
4. åœ¨Excelä¸­æ‰“å¼€

### æŠ€å·§4: ç›‘æŽ§å…³é”®èˆ†æƒ…

æ·»åŠ è‡ªå®šä¹‰å…³é”®è¯åˆ° `scheduler_daemon.py`:

```python
# ç¬¬30-37è¡Œ
KEYWORDS = [
    "ç™¾æžœå›­&è´µ",
    "ç™¾æžœå›­&åˆºå®¢",
    "ç™¾æžœå›­&åƒä¸èµ·",
    "ç™¾æžœå›­&é£Ÿå“å®‰å…¨",  # æ–°å¢ž
    "ç™¾æžœå›­&æŠ•è¯‰"        # æ–°å¢ž
]
```

---

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

### æ£€æŸ¥æ¸…å•

é‡åˆ°é—®é¢˜æ—¶,ä¾æ¬¡æ£€æŸ¥:

- [ ] æœåŠ¡å™¨èƒ½pingé€š: `ping 101.201.214.42`
- [ ] SSHèƒ½ç™»å½•: `ssh root@101.201.214.42`
- [ ] StreamlitæœåŠ¡è¿è¡Œä¸­: `ps aux | grep streamlit`
- [ ] å®šæ—¶çˆ¬è™«è¿è¡Œä¸­: `ps aux | grep scheduler`
- [ ] ç«¯å£æ­£å¸¸ç›‘å¬: `netstat -tlnp | grep 5000`
- [ ] æ—¥å¿—æ— ä¸¥é‡é”™è¯¯: `tail streamlit.log scheduler.log`
- [ ] æ•°æ®åº“æ–‡ä»¶å­˜åœ¨: `ls -lh baiguoyuan_sentiment.db`
- [ ] é˜¿é‡Œäº‘å®‰å…¨ç»„å¼€æ”¾5000ç«¯å£

### æ”¶é›†é”™è¯¯ä¿¡æ¯

```bash
# ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š
cd /root/BettaFish-test
cat > diagnostic_report.txt << EOF
=== ç³»ç»Ÿä¿¡æ¯ ===
$(uname -a)
$(date)

=== è¿›ç¨‹çŠ¶æ€ ===
$(ps aux | grep -E "streamlit|scheduler")

=== ç«¯å£ç›‘å¬ ===
$(netstat -tlnp | grep 5000)

=== Streamlitæ—¥å¿—(æœ€åŽ50è¡Œ) ===
$(tail -50 streamlit.log)

=== Scheduleræ—¥å¿—(æœ€åŽ50è¡Œ) ===
$(tail -50 scheduler.log)

=== æ•°æ®åº“çŠ¶æ€ ===
$(ls -lh baiguoyuan_sentiment.db)
EOF

# æŸ¥çœ‹æŠ¥å‘Š
cat diagnostic_report.txt

# ä¸‹è½½åˆ°æœ¬åœ°
scp root@101.201.214.42:/root/BettaFish-test/diagnostic_report.txt ./
```

---

## ðŸŽ‰ éƒ¨ç½²å®Œæˆæ£€æŸ¥

å®Œæˆéƒ¨ç½²åŽ,ç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹:

- [ ] æµè§ˆå™¨èƒ½è®¿é—® http://101.201.214.42:5000
- [ ] ç•Œé¢æ˜¾ç¤ºæ­£å¸¸,æ•°æ®å¯ä»¥æŸ¥çœ‹
- [ ] æ‰‹åŠ¨åˆ·æ–°æŒ‰é’®å¯ä»¥è§¦å‘çˆ¬å–
- [ ] å®šæ—¶çˆ¬è™«è¿›ç¨‹è¿è¡Œä¸­
- [ ] æ—¥å¿—æ–‡ä»¶æ­£å¸¸è¾“å‡º
- [ ] æ•°æ®åº“æ–‡ä»¶å­˜åœ¨ä¸”å¯è®¿é—®
- [ ] å›¢é˜Ÿæˆå‘˜èƒ½è®¿é—®ç³»ç»Ÿ
- [ ] æ ‡è®°åŠŸèƒ½æ­£å¸¸å·¥ä½œ

å…¨éƒ¨å‹¾é€‰å³éƒ¨ç½²æˆåŠŸ! ðŸŽŠ

---

**æœ€åŽæ›´æ–°**: 2025-11-08
**é€‚ç”¨ç‰ˆæœ¬**: ç™¾æžœå›­èˆ†æƒ…ç³»ç»Ÿ v1.2
**ç³»ç»Ÿæž¶æž„**: Streamlit + SQLite + å®šæ—¶çˆ¬è™«
